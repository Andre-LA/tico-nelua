##[[
  TICO = {
    L = 'tinycoffee/build',
    I = {
      include = "tinycoffee/include",
      external = "tinycoffee/external"
    }
  }
]]

require 'output.tico'

local nelua_argc: cint <cimport, nodecl>
local nelua_argv: *[0]cstring <cimport, nodecl>

local Config = tico.Config

local config: Config = tico.config_init("basic test", 640, 380, nelua_argc, nelua_argv)
tico.init(config)

while not tico.window_should_close() do -- main loop
  tico.update() -- update inputs, timers, ...

  tico.graphics_clear(tico.WHITE) -- clear screen with color

  -- [[ begin batch render [[
  tico.begin_draw()
  do
    tico.graphics_draw_text("my test text", 20, 20, tico.WHITE)
  end
  tico.end_draw()
  -- ]] finish batch render ]]
end

tico.terminate()
